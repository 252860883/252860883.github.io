{"version":3,"sources":["components/article.tsx"],"names":["Article","state","topArticleMenu","normalArticleMenu","showArticleMenu","limit","page","total","this","handleArticleLists","slice","setState","ArticleMenu","filter","item","top","sort","a","b","Date","date","getTime","Number","length","getShowArticleMenu","props","history","push","link","e","_this2","_this3","react__WEBPACK_IMPORTED_MODULE_5___default","createElement","className","hideNormal","alt","src","require","map","key","onClick","clickToArticle","bind","split","title","React","Component","withRouter"],"mappings":"4KAcMA,6MACFC,MAAQ,CACJC,eAAgB,GAChBC,kBAAmB,GACnBC,gBAAiB,GACjBC,MAAO,KACPC,KAAM,EACNC,MAAO,sFAGPC,KAAKC,gEAGUN,GACf,IAAME,EAAQG,KAAKP,MAAMI,MACnBC,EAAOE,KAAKP,MAAMK,KACnBH,IAAmBA,EAAoBK,KAAKP,MAAME,mBACvD,IAAMC,EAAkBD,EAAkBO,OAAOJ,EAAO,GAAKD,EAAOC,EAAOD,GAC3EG,KAAKG,SAAS,CACVP,iEAKJ,IAAMF,EAA6BU,IAAYC,OAAO,SAAAC,GAAI,OAAIA,EAAKC,MAC7DZ,EAAgCS,IAAYC,OAAO,SAAAC,GAAI,OAAKA,EAAKC,MAEvEZ,EAAkBa,KAAK,SAACC,EAAQC,GAC5B,OAAO,IAAIC,KAAKD,EAAEE,MAAMC,UAAY,IAAIF,KAAKF,EAAEG,MAAMC,YAEzD,IAAMd,EAAgBe,OAAOnB,EAAkBoB,OAASf,KAAKP,MAAMI,OACnEG,KAAKG,SAAS,CACVT,iBACAC,oBACAI,MAAOJ,EAAkBoB,OAASf,KAAKP,MAAMI,MAAQE,EAAQ,EAAIA,IAErEC,KAAKgB,mBAAmBrB,0CAGbW,GACXN,KAAKiB,MAAMC,QAAQC,KAAKb,EAAKc,gDAGfC,GAAc,IAAAC,EAAAtB,KAC5BA,KAAKG,SAAS,CAACL,KAAMuB,GAAI,WACrBC,EAAKN,wDAIJ,IAAAO,EAAAvB,KACL,OACIwB,EAAAf,EAAAgB,cAAA,OAAKC,UAAU,iBAEa,IAApB1B,KAAKP,MAAMK,OAAeE,KAAKiB,MAAMU,YAAcH,EAAAf,EAAAgB,cAAA,OAAKG,IAAI,GAAGF,UAAU,gBAAgBG,IAAKC,EAAQ,MAGtG9B,KAAKP,MAAMC,eAAeqC,IAAI,SAACzB,GAC3B,OAAwB,IAApBiB,EAAK9B,MAAMK,KAAmB,GAE9B0B,EAAAf,EAAAgB,cAAA,OAAKO,IAAK1B,EAAKc,KAAMM,UAAU,gCAAgCO,QAASV,EAAKW,eAAeC,KAAKZ,EAAMjB,IACnGkB,EAAAf,EAAAgB,cAAA,QAAMC,UAAU,QAAQpB,EAAKM,KAAKwB,MAAM,KAAK,GAA7C,KACAZ,EAAAf,EAAAgB,cAAA,QAAMC,UAAU,SAASpB,EAAK+B,WAMzCrC,KAAKiB,MAAMU,YAAcH,EAAAf,EAAAgB,cAAA,OAAKG,IAAI,GAAGF,UAAU,gBAAgBG,IAAKC,EAAQ,OAG5E9B,KAAKiB,MAAMU,YAAc3B,KAAKP,MAAMG,gBAAgBmC,IAAI,SAACzB,GACtD,OACIkB,EAAAf,EAAAgB,cAAA,OAAKO,IAAK1B,EAAKc,KAAMM,UAAU,eAAeO,QAASV,EAAKW,eAAeC,KAAKZ,EAAMjB,IAClFkB,EAAAf,EAAAgB,cAAA,QAAMC,UAAU,QAAQpB,EAAKM,KAAKwB,MAAM,KAAK,GAA7C,KACAZ,EAAAf,EAAAgB,cAAA,QAAMC,UAAU,SAASpB,EAAK+B,kBA1ExCC,IAAMC,WAmFbC,gBAAWhD","file":"static/js/58.c7a4a44a.chunk.js","sourcesContent":["import React from 'react'\nimport { ArticleMenu } from '../router/routerMap'\nimport '../style/article.scss'\nimport { withRouter } from 'react-router-dom'\n\ninterface IState {\n    topArticleMenu: Array<any>,\n    normalArticleMenu: Array<any>,\n    showArticleMenu: Array<any>,\n    limit: number,\n    page: number,\n    total: number\n}\n\nclass Article extends React.Component<any, IState> {\n    state = {\n        topArticleMenu: [],\n        normalArticleMenu: [],\n        showArticleMenu: [],\n        limit: 1400,\n        page: 1,\n        total: 0\n    }\n    componentDidMount() {\n        this.handleArticleLists()\n    }\n\n    getShowArticleMenu(normalArticleMenu?: any) {\n        const limit = this.state.limit\n        const page = this.state.page\n        if (!normalArticleMenu) normalArticleMenu = this.state.normalArticleMenu\n        const showArticleMenu = normalArticleMenu.slice((page - 1) * limit, page * limit)\n        this.setState({\n            showArticleMenu\n        })\n    }\n\n    handleArticleLists() {\n        const topArticleMenu: Array<any> = ArticleMenu.filter(item => item.top);\n        const normalArticleMenu: Array<any> = ArticleMenu.filter(item => !item.top);\n        // 对文章进行时间排序\n        normalArticleMenu.sort((a: any, b: any) => {\n            return new Date(b.date).getTime() - new Date(a.date).getTime()\n        })\n        const total: number = Number(normalArticleMenu.length / this.state.limit)\n        this.setState({\n            topArticleMenu,\n            normalArticleMenu,\n            total: normalArticleMenu.length % this.state.limit ? total + 1 : total\n        })\n        this.getShowArticleMenu(normalArticleMenu)\n    }\n\n    clickToArticle(item: any) {\n        this.props.history.push(item.link);\n    }\n\n    pageCurrentChange(e: any): void {\n        this.setState({page: e}, () => {\n            this.getShowArticleMenu();\n        })\n    }\n\n    render() {\n        return (\n            <div className=\"article-lists\">\n                {\n                    this.state.page === 1 && !this.props.hideNormal && <img alt=\"\" className=\"article-title\" src={require('../assets/sticky-title.jpg')} ></img>\n                }\n                {\n                    this.state.topArticleMenu.map((item: any) => {\n                        if (this.state.page !== 1) return \"\";\n                        return (\n                            <div key={item.link} className=\"article-item article-item-top\" onClick={this.clickToArticle.bind(this, item)}>\n                                <span className='time'>{item.date.split(' ')[0]} </span>\n                                <span className='title'>{item.title}</span>\n                            </div>\n                        )\n                    })\n                }\n                {\n                    !this.props.hideNormal && <img alt=\"\" className=\"article-title\" src={require('../assets/normal-title.jpg')} />\n                }\n                {\n                    !this.props.hideNormal && this.state.showArticleMenu.map((item: any) => {\n                        return (\n                            <div key={item.link} className=\"article-item\" onClick={this.clickToArticle.bind(this, item)}>\n                                <span className='time'>{item.date.split(' ')[0]} </span>\n                                <span className='title'>{item.title}</span>\n                            </div>\n                        )\n                    })\n                }\n            </div>\n        )\n    }\n}\nexport default withRouter(Article);\n"],"sourceRoot":""}